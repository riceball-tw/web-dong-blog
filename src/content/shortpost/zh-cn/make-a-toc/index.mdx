---
titleTC: Intersection Observer 真实案例：自动更新目录
publishDate: 2024-09-21
category: Frontend
social:
  threads: https://www.threads.net/@webdong.dev/post/DAKuuwIhv0U
---

![问题示意图](problem-demo-1.webp '问题示意图')

近期制作到内容大纲（Table of Contents）相关的功能，发现是一个很适合使用 Intersection Observer 的案例，通过监听特定元素来自动更新目录的状态。

在早期可能会需要通过 `getBoundingClientRect` 之类的方法来计算元素有没有离开窗口，但随着专门侦测元素是否进入窗口的 API 出现，这样的需求就变得更加容易实现。

近期推出一系列日常前端工作会碰到的真实案例：会将解题的思考过程到实现结果都展现出来。

有兴趣可以来翻看看近期新文章：[Intersection Observer 真实案例：自动更新目录](https://www.webdong.dev/post/real-use-case-of-intersection-observer-toc/)
